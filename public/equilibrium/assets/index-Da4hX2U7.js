(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();const m=[{id:"will",label:"PLANNING",emoji:"ğŸ¯",color:"#e07040",action:"Set intention Â· Define the target"},{id:"emanation",label:"BUILDING",emoji:"ğŸ”¨",color:"#5090c0",action:"Build Â· Create Â· Execute"},{id:"digestion",label:"COMMUNICATING",emoji:"ğŸ“¡",color:"#60a060",action:"Share Â· Polish Â· Ship"},{id:"enrichment",label:"INTEGRATING",emoji:"ğŸŒ€",color:"#a080c0",action:"Integrate Â· Reflect Â· Rest"}];function M(e){const t=Math.min(Math.floor(e*4),3);return m[t]}const S=4,N=16,k=4,w=S+N+k,H=4,I=w*H,Q=[{name:"Sunday",planet:"Sun",symbol:"â˜‰",emoji:"â˜€ï¸",energy:"Illumination & Celebration",intelligence:"Spiritual (SQ)",description:"Vision, purpose, creative self-expression. Celebrate what you've built."},{name:"Monday",planet:"Moon",symbol:"â˜½",emoji:"ğŸŒ™",energy:"Intuition & Emotional Depth",intelligence:"Emotional (EQ)",description:"Reflection, inner sensing, emotional recalibration. Plan from feeling, not force."},{name:"Tuesday",planet:"Mars",symbol:"â™‚",emoji:"ğŸ”¥",energy:"Action & Courage",intelligence:"Kinesthetic (Body)",description:"Decisive action, physical energy, tackling hard things. Move your body."},{name:"Wednesday",planet:"Mercury",symbol:"â˜¿",emoji:"ğŸ—£ï¸",energy:"Clarity & Communication",intelligence:"Verbal-Linguistic",description:"Meetings, writing, learning, networking. Mental agility at peak."},{name:"Thursday",planet:"Jupiter",symbol:"â™ƒ",emoji:"âœ¨",energy:"Expansion & Wisdom",intelligence:"Vision-Logic",description:"Big-picture thinking, teaching, strategic planning. Expand horizons."},{name:"Friday",planet:"Venus",symbol:"â™€",emoji:"ğŸŒ¹",energy:"Beauty & Harmony",intelligence:"Aesthetic & Interpersonal",description:"Creativity, relationships, design, pleasure. Make things beautiful."},{name:"Saturday",planet:"Saturn",symbol:"â™„",emoji:"ğŸª",energy:"Structure & Grounding",intelligence:"Moral & Logical",description:"Discipline, organizing, completing. Review the week, ground the gains."}],J=["Saturn","Jupiter","Mars","Sun","Venus","Mercury","Moon"],z=[3,6,2,5,1,4,0],K={Sun:{emoji:"â˜€ï¸",energy:"Vitality & Purpose"},Moon:{emoji:"ğŸŒ™",energy:"Intuition & Feeling"},Mars:{emoji:"ğŸ”¥",energy:"Drive & Action"},Mercury:{emoji:"ğŸ—£ï¸",energy:"Thought & Communication"},Jupiter:{emoji:"âœ¨",energy:"Expansion & Vision"},Venus:{emoji:"ğŸŒ¹",energy:"Beauty & Connection"},Saturn:{emoji:"ğŸª",energy:"Structure & Discipline"}},G=[{name:"New Moon",symbol:"ğŸŒ‘",start:0,end:1.85,energy:"Set intentions Â· Plant seeds"},{name:"Waxing Crescent",symbol:"ğŸŒ’",start:1.85,end:5.53,energy:"Emerge Â· Take first steps"},{name:"First Quarter",symbol:"ğŸŒ“",start:5.53,end:9.22,energy:"Build Â· Overcome resistance"},{name:"Waxing Gibbous",symbol:"ğŸŒ”",start:9.22,end:12.91,energy:"Refine Â· Trust the process"},{name:"Full Moon",symbol:"ğŸŒ•",start:12.91,end:16.61,energy:"Harvest Â· Celebrate completion"},{name:"Waning Gibbous",symbol:"ğŸŒ–",start:16.61,end:20.3,energy:"Share Â· Teach what you learned"},{name:"Last Quarter",symbol:"ğŸŒ—",start:20.3,end:23.99,energy:"Release Â· Let go of what's done"},{name:"Waning Crescent",symbol:"ğŸŒ˜",start:23.99,end:29.53,energy:"Rest Â· Surrender Â· Renew"}],X={Winter:"Seed & Incubate",Spring:"Sprout & Build",Summer:"Bloom & Harvest",Autumn:"Gather & Release"};function Z(e){return e===1?m[0]:e===2||e===3?m[1]:e===4||e===5?m[2]:m[3]}function ee(e,t=11){const n=e/1e3%t/t;return{position:n,inhaling:n<.5}}function te(e,t){if(!e)return{elapsed:0,remaining:I,progress:0,pulse:{pulseNumber:1,phase:"entry",phaseElapsed:0,phaseRemaining:S,pulseElapsed:0,pulseProgress:0},active:!1,holonicPhase:m[0]};const s=(t-e)/6e4;if(s>=I)return{elapsed:I,remaining:0,progress:1,pulse:{pulseNumber:4,phase:"exit",phaseElapsed:k,phaseRemaining:0,pulseElapsed:w,pulseProgress:1},active:!1,holonicPhase:m[3]};const i=Math.min(Math.floor(s/w),H-1),r=s-i*w,o=s/I;let u,c,l;return r<S?(u="entry",c=r,l=S-r):r<S+N?(u="focus",c=r-S,l=N-c):(u="exit",c=r-S-N,l=k-c),{elapsed:s,remaining:I-s,progress:o,pulse:{pulseNumber:i+1,phase:u,phaseElapsed:c,phaseRemaining:l,pulseElapsed:r,pulseProgress:r/w},active:!0,holonicPhase:m[i]}}function ne(e){const t=new Date(e),n=t.getHours(),s=t.getMinutes(),i=n*60+s,r=i/1440;let o;n<6?o="dawn":n<12?o="morning":n<18?o="afternoon":o="evening";const u=Math.max(0,i-540),c=Math.floor(u/111)+1;return{hour:n,minute:s,progress:r,quarter:o,sprintSlot:c,holonicPhase:M(r)}}function se(e,t){const s=(z[e]+t)%7,i=J[s],r=K[i];return{planet:i,emoji:r.emoji,energy:r.energy,hourIndex:t}}function re(e){const t=new Date(e),n=t.getDay(),s=t.getHours(),i=t.getMinutes(),o=((n===0?6:n-1)*1440+s*60+i)/(7*1440);return{dayOfWeek:n,progress:o,planetaryDay:Q[n],planetaryHour:se(n,s),holonicPhase:Z(n)}}function ie(e){const t=new Date(e),n=t.getMonth()+1,s=t.getDate(),i=new Date(t.getFullYear(),t.getMonth()+1,0).getDate(),r=(s-1+(t.getHours()*60+t.getMinutes())/1440)/i;return{month:n,day:s,progress:r,holonicPhase:M(r)}}function oe(e){const t=new Date(e),n=t.getMonth(),s=Math.floor(n/3)+1,r=["Winter","Spring","Summer","Autumn"][s-1],o=(s-1)*3,u=new Date(t.getFullYear(),o,1).getTime(),c=new Date(t.getFullYear(),o+3,1).getTime(),l=(e-u)/(c-u);return{quarter:s,season:r,progress:l,energy:X[r],holonicPhase:M(l)}}function ae(e){const t=new Date(2e3,0,6,18,14).getTime(),n=29.53058770576,r=(e-t)/864e5/n%1*n,o=r/n;let u=G[0];for(const c of G)if(r>=c.start&&r<c.end){u=c;break}return{phase:u.name,symbol:u.symbol,progress:o,day:r,energy:u.energy,holonicPhase:M(o)}}function ce(e,t){const n=new Date(e),s=new Date(n.getFullYear(),0,1).getTime(),i=new Date(n.getFullYear()+1,0,1).getTime(),r=(e-s)/(i-s);let o=r;if(t){const[u,c]=t.split("-").map(Number),l=new Date(n.getFullYear(),u-1,c).getTime();if(e>=l){const d=new Date(n.getFullYear()+1,u-1,c).getTime();o=(e-l)/(d-l)}else{const d=new Date(n.getFullYear()-1,u-1,c).getTime();o=(e-d)/(l-d)}}return{progress:r,holonicPhase:M(r),personalProgress:o,personalHolonicPhase:M(o)}}function _(e){const t={will:0,emanation:0,digestion:0,enrichment:0},n=[e.day.holonicPhase,e.week.holonicPhase,e.month.holonicPhase,e.quarter.holonicPhase,e.moon.holonicPhase,e.year.holonicPhase];e.sprint.active&&n.push(e.sprint.holonicPhase);for(const c of n)t[c.id]++;let s=0,i="will";for(const[c,l]of Object.entries(t))l>s&&(s=l,i=c);const r=m.find(c=>c.id===i),o=Math.round(s/n.length*100),u=o>66?"strong":o>40?"moderate":"mixed";return{dominant:r,coherence:o,coherenceLevel:u,phaseMap:{day:e.day.holonicPhase,week:e.week.holonicPhase,moon:e.moon.holonicPhase,quarter:e.quarter.holonicPhase,year:e.year.holonicPhase,sprint:e.sprint.active?e.sprint.holonicPhase:void 0}}}function le(e,t,n=11,s){return{breath:ee(e,n),sprint:te(t,e),day:ne(e),week:re(e),month:ie(e),quarter:oe(e),moon:ae(e),year:ce(e,s)}}function ue(e){const t=Math.floor(e),n=Math.floor((e-t)*60);return`${t}:${n.toString().padStart(2,"0")}`}const pe=["PLANNING","BUILDING","COMMUNICATING","INTEGRATING"];function de(e){return pe[Math.min(e-1,3)]||"INCEPTION"}function W(e){switch(e){case"entry":return"var(--phase-entry)";case"focus":return"var(--phase-focus)";case"exit":return"var(--phase-exit)"}}function ge(e){switch(e){case"entry":return"Entry";case"focus":return"Focus";case"exit":return"Exit"}}const F="http://www.w3.org/2000/svg",h=200;function y(e,t){const n=document.createElementNS(F,e);for(const[s,i]of Object.entries(t))n.setAttribute(s,i);return n}function me(e,t,n){const s=y("g",{class:"ring-group"}),i=2*Math.PI*e,r=i/4,o=[];for(let c=0;c<4;c++){const l=m[c],d=y("circle",{cx:String(h),cy:String(h),r:String(e),fill:"none",stroke:l.color,"stroke-width":String(t),"stroke-dasharray":`${r} ${i-r}`,"stroke-dashoffset":String(-(c*r)+i/4),"stroke-linecap":"butt",transform:`rotate(-90 ${h} ${h})`,opacity:String(n),class:`ring-segment ring-segment-${l.id}`});o.push(d),s.appendChild(d)}const u=y("circle",{cx:String(h),cy:String(h-e),r:"4",fill:"#ffffff",class:"position-dot",filter:"url(#glow)"});return s.appendChild(u),{group:s,segments:o,dot:u}}function he(e,t,n){const s=(n*360-90)*(Math.PI/180);e.setAttribute("cx",String(h+t*Math.cos(s))),e.setAttribute("cy",String(h+t*Math.sin(s)))}const fe=[{id:"sprint",radius:85,strokeWidth:5,sprintStrokeWidth:7,baseOpacity:.3,label:"Sprint"},{id:"day",radius:105,strokeWidth:4,baseOpacity:.35,label:"Day"},{id:"week",radius:123,strokeWidth:3.5,baseOpacity:.25,label:"Week"},{id:"moon",radius:139,strokeWidth:3,baseOpacity:.25,label:"Moon"},{id:"quarter",radius:154,strokeWidth:2.5,baseOpacity:.2,label:"Quarter"},{id:"year",radius:167,strokeWidth:2,baseOpacity:.15,label:"Year"}];class ye{svg;rings;pulseArcs;pulseGroup;phaseLabel;timeRemaining;transitionPrompt;dayPosition;statusBar;guidanceEl;lastPromptPhase="";promptTimeout=null;lastDominantColor="";constructor(){this.svg=document.getElementById("rings"),this.phaseLabel=document.getElementById("phase-label"),this.timeRemaining=document.getElementById("time-remaining"),this.transitionPrompt=document.getElementById("transition-prompt"),this.dayPosition=document.getElementById("day-position"),this.statusBar=document.getElementById("status-bar"),this.guidanceEl=document.getElementById("guidance"),this.rings=new Map,this.pulseArcs=[],this.pulseGroup=document.createElementNS(F,"g"),this.buildClock()}buildClock(){this.svg.innerHTML="";const t=y("defs",{});t.innerHTML=`
            <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                <feGaussianBlur stdDeviation="2" result="blur"/>
                <feComposite in="SourceGraphic" in2="blur" operator="over"/>
            </filter>
        `,this.svg.appendChild(t),this.pulseGroup=y("g",{class:"pulse-group"});const n=68,s=2*Math.PI*n,i=.03,r=(1-i*4)/4,o=s*r,u=s*i;for(let p=0;p<4;p++){const g=y("circle",{cx:String(h),cy:String(h),r:String(n),fill:"none",stroke:"var(--ring-pulse)","stroke-width":"3","stroke-dasharray":`${o} ${s-o}`,"stroke-dashoffset":String(-p*(o+u)),"stroke-linecap":"round",transform:`rotate(-90 ${h} ${h})`,class:"pulse-arc"});this.pulseArcs.push(g),this.pulseGroup.appendChild(g)}this.svg.appendChild(this.pulseGroup);for(const p of fe){const g=me(p.radius,p.strokeWidth,p.baseOpacity);this.rings.set(p.id,{...g,config:p}),this.svg.appendChild(g.group)}const c=y("g",{class:"phase-legend"}),l=392,d=100,P=58;m.forEach((p,g)=>{const b=d+g*P,v=y("circle",{cx:String(b),cy:String(l-3),r:"3",fill:p.color}),$=y("text",{x:String(b+6),y:String(l),fill:p.color,"font-size":"6.5","font-family":"'DM Sans', sans-serif",opacity:"0.5"}),V=["PLAN","BUILD","COMM.","INTEGR."];$.textContent=V[g],c.appendChild(v),c.appendChild($)}),this.svg.appendChild(c)}update(t,n,s){const i=_(t);this.updateHarmonicCenter(i),t.sprint.active?this.pulseArcs.forEach((p,g)=>{const b=g+1,v=m[g];b<t.sprint.pulse.pulseNumber?(p.setAttribute("stroke",v.color),p.setAttribute("opacity","0.8")):b===t.sprint.pulse.pulseNumber?(p.setAttribute("stroke",W(t.sprint.pulse.phase)),p.setAttribute("opacity","1")):(p.setAttribute("stroke",v.color),p.setAttribute("opacity","0.15"))}):this.pulseArcs.forEach((p,g)=>{p.setAttribute("stroke",m[g].color),p.setAttribute("opacity","0.15")});const r=t.sprint.active,o=r?.25:1;if(this.updateRing("sprint",t.sprint.progress,r,r),this.updateRing("day",t.day.progress,!0,!1,r?o:1),this.updateRing("week",t.week.progress,n,!1,r?o:1),this.updateRing("moon",t.moon.progress,n,!1,r?o:1),this.updateRing("quarter",t.quarter.progress,n,!1,r?o:1),this.updateRing("year",t.year.personalProgress,n,!1,r?o:1),r){const p=de(t.sprint.pulse.pulseNumber),g=ge(t.sprint.pulse.phase);this.phaseLabel.textContent=`${p} Â· ${g}`,this.timeRemaining.textContent=ue(t.sprint.pulse.phaseRemaining)+" remaining",this.phaseLabel.style.color=W(t.sprint.pulse.phase);const b=3,v=Math.min(t.day.sprintSlot,b);this.dayPosition.textContent=`Sprint ${v} of ${b} today`,this.dayPosition.style.display="",this.guidanceEl.style.display="none"}else this.phaseLabel.textContent="",this.timeRemaining.textContent="",this.dayPosition.style.display="none",this.guidanceEl.style.display="";if(s&&r){const p=`${t.sprint.pulse.pulseNumber}-${t.sprint.pulse.phase}`;p!==this.lastPromptPhase&&(this.lastPromptPhase=p,this.showTransitionPrompt(t.sprint.pulse.phase,t.sprint.pulse.pulseNumber))}const u=new Date,c=`${String(u.getHours()).padStart(2,"0")}:${String(u.getMinutes()).padStart(2,"0")}`,l=p=>({will:"PLAN",emanation:"BUILD",digestion:"COMM",enrichment:"INTEGR"})[p.id]||"?",d=i.phaseMap,P=t.week.planetaryDay.name.slice(0,3);this.statusBar.innerHTML=`
            <span class="status-time">${c}</span>
            <span style="color:${d.day.color}">${P} ${l(d.day)}</span>
            <span style="color:${d.moon.color}">${t.moon.symbol} ${l(d.moon)}</span>
            <span style="color:${d.quarter.color}">Q${t.quarter.quarter} ${l(d.quarter)}</span>
            <span style="color:${d.year.color}">YR ${l(d.year)}</span>
        `}updateHarmonicCenter(t){const n=t.dominant.color;if(n===this.lastDominantColor)return;this.lastDominantColor=n,document.documentElement.style.setProperty("--harmonic-color",n);const s=t.coherenceLevel==="strong"?1:t.coherenceLevel==="moderate"?.6:.35;document.documentElement.style.setProperty("--harmonic-glow",String(s))}updateRing(t,n,s,i=!1,r=1){const o=this.rings.get(t);if(!o)return;const u=s?r:0;if(o.group.style.opacity=String(u),o.group.style.transition="opacity 0.8s ease",!s)return;he(o.dot,o.config.radius,n);const c=Math.min(Math.floor(n*4),3);o.segments.forEach((l,d)=>{const P=i&&o.config.sprintStrokeWidth?o.config.sprintStrokeWidth:o.config.strokeWidth;d===c?(l.setAttribute("opacity","0.85"),l.setAttribute("stroke-width",String(P+2))):(l.setAttribute("opacity","0.12"),l.setAttribute("stroke-width",String(P)))}),o.dot.setAttribute("fill",m[c].color)}showTransitionPrompt(t,n){const i={entry:["What is the one thing?","Settle in. Breathe.","Where does your attention want to go?","Arrive fully."],focus:[""],exit:["What emerged?","Breathe. Let it settle.","What wants to be carried forward?","Release. Integrate."]}[t],r=i[Math.min(n-1,i.length-1)];if(!r){this.transitionPrompt.classList.remove("visible");return}this.transitionPrompt.textContent=r,this.transitionPrompt.classList.remove("fading"),this.transitionPrompt.classList.add("visible"),this.promptTimeout&&clearTimeout(this.promptTimeout),this.promptTimeout=window.setTimeout(()=>{this.transitionPrompt.classList.add("fading"),this.transitionPrompt.classList.remove("visible")},15e3)}}function be(e,t){const n=new Date,s=n.getHours()*60+n.getMinutes(),[i,r]=e.split(":").map(Number),[o,u]=t.split(":").map(Number),c=i*60+r,l=o*60+u;return l>c?s>=c&&s<l:s>=c||s<l}const Se=[{condition:e=>e.sprint.active&&e.sprint.pulse.phase==="entry"&&e.sprint.pulse.pulseNumber===1,message:"Breathe in. Set your intention.",category:"be"},{condition:e=>e.sprint.active&&e.sprint.pulse.phase==="entry",message:"Breathe. Arrive. Settle into this pulse.",category:"be"},{condition:e=>e.sprint.active&&e.sprint.pulse.phase==="focus"&&e.sprint.pulse.phaseElapsed<2,message:"Focus phase begun. Protect this time.",category:"do"},{condition:e=>e.sprint.active&&e.sprint.pulse.phase==="focus",message:"Deep work. Stay with it.",category:"do"},{condition:e=>e.sprint.active&&e.sprint.pulse.phase==="exit"&&e.sprint.pulse.pulseNumber<4,message:"Capture what emerged. Brief pause, then next pulse.",category:"rest"},{condition:e=>e.sprint.active&&e.sprint.pulse.phase==="exit"&&e.sprint.pulse.pulseNumber===4,message:"96 minutes complete. Walk. Hydrate. Let it integrate.",category:"rest"},{condition:(e,t,n)=>!be(t,n),message:()=>"Rest time â€” let today settle",category:"rest"},{condition:()=>!0,message:e=>{const t=_(e),n=t.dominant.action;return t.coherenceLevel==="strong"?`Strong: ${n}`:n},category:"be"}];function Ee(e,t="07:00",n="23:00"){for(const s of Se)if(s.condition(e,t,n))return{message:typeof s.message=="function"?s.message(e):s.message,category:s.category};return{message:"Breathe. You are here.",category:"be"}}const Y="equilibrium-state";function Pe(){try{const e=localStorage.getItem(Y);if(e){const t=JSON.parse(e);return t.sprintStartTime&&(Date.now()-t.sprintStartTime)/6e4>=96&&(t.sprintStartTime=null),t.preferences.wakeTime||(t.preferences.wakeTime="07:00"),t.preferences.sleepTime||(t.preferences.sleepTime="23:00"),t.preferences.birthday===void 0&&(t.preferences.birthday=""),t}}catch(e){console.warn("Failed to load state:",e)}return{preferences:{breathDuration:11,transitionPrompts:!0,showOuterRings:!0,wakeTime:"07:00",sleepTime:"23:00",birthday:""},sprintStartTime:null,sprintLog:[]}}function f(e){try{localStorage.setItem(Y,JSON.stringify(e))}catch(t){console.warn("Failed to save state:",t)}}const a=Pe(),ve=new ye,Me=document.getElementById("guidance"),L=document.getElementById("sprint-cta");document.documentElement.style.setProperty("--breath-duration",`${a.preferences.breathDuration}s`);const j=document.getElementById("birthday-prompt"),Ie=document.getElementById("birthday-input"),we=document.getElementById("birthday-confirm");a.preferences.birthday||j.classList.remove("hidden");we.addEventListener("click",()=>{const e=Ie.value;e&&(a.preferences.birthday=e,f(a)),j.classList.add("hidden")});const Te=document.getElementById("settings-toggle"),T=document.getElementById("settings-overlay"),Le=document.getElementById("settings-close"),C=document.getElementById("breath-duration"),q=document.getElementById("breath-duration-label"),D=document.getElementById("toggle-prompts"),A=document.getElementById("toggle-outer-rings"),B=document.getElementById("wake-time"),x=document.getElementById("sleep-time"),R=document.getElementById("birthday");C.value=String(a.preferences.breathDuration);q.textContent=`${a.preferences.breathDuration}s`;D.checked=a.preferences.transitionPrompts;A.checked=a.preferences.showOuterRings;B.value=a.preferences.wakeTime;x.value=a.preferences.sleepTime;R.value=a.preferences.birthday;Te.addEventListener("click",()=>{T.classList.remove("hidden")});Le.addEventListener("click",()=>{T.classList.add("hidden")});T.addEventListener("click",e=>{e.target===T&&T.classList.add("hidden")});C.addEventListener("input",()=>{const e=parseInt(C.value);a.preferences.breathDuration=e,q.textContent=`${e}s`,document.documentElement.style.setProperty("--breath-duration",`${e}s`),f(a)});D.addEventListener("change",()=>{a.preferences.transitionPrompts=D.checked,f(a)});A.addEventListener("change",()=>{a.preferences.showOuterRings=A.checked,f(a)});B.addEventListener("change",()=>{a.preferences.wakeTime=B.value,f(a)});x.addEventListener("change",()=>{a.preferences.sleepTime=x.value,f(a)});R.addEventListener("change",()=>{a.preferences.birthday=R.value,f(a)});L.addEventListener("click",()=>{a.sprintStartTime||(a.sprintStartTime=Date.now(),f(a),L.classList.add("hidden"))});let E=null;const O=document.getElementById("clock-container");O.addEventListener("pointerdown",e=>{a.sprintStartTime&&e.target.id!=="settings-toggle"&&(E=window.setTimeout(()=>{a.sprintStartTime=null,f(a),L.classList.remove("hidden")},3e3))});O.addEventListener("pointerup",()=>{E&&(clearTimeout(E),E=null)});O.addEventListener("pointerleave",()=>{E&&(clearTimeout(E),E=null)});function U(){const e=Date.now();let t;if(a.preferences.birthday){const i=a.preferences.birthday.split("-");t=`${i[1]}-${i[2]}`}const n=le(e,a.sprintStartTime,a.preferences.breathDuration,t);a.sprintStartTime&&!n.sprint.active&&(a.sprintLog.push({date:new Date().toISOString().split("T")[0],sprintNumber:a.sprintLog.filter(i=>i.date===new Date().toISOString().split("T")[0]).length+1,startTime:new Date(a.sprintStartTime).toTimeString().slice(0,5),endTime:new Date().toTimeString().slice(0,5),completed:!0}),a.sprintStartTime=null,f(a),L.classList.remove("hidden")),a.sprintStartTime&&L.classList.add("hidden"),ve.update(n,a.preferences.showOuterRings,a.preferences.transitionPrompts);const s=Ee(n,a.preferences.wakeTime,a.preferences.sleepTime);Me.textContent=s.message,requestAnimationFrame(U)}U();
